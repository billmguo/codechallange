way 1: ((a >> 1) + (b >> 1) +((a&1) & (b&1)))
way 2: b + (a - b) >> 1;
way 3: b + (a - b) / 2;
